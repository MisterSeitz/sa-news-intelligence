(self.webpackChunkaccess_alicloud_ai_assistant=self.webpackChunkaccess_alicloud_ai_assistant||[]).push([[57],{2212:(e,n,t)=>{"use strict";var o=t(797),a=t.n(o);window.process=a(),window.global=window,window.process.env||(window.process.env={}),console.log("[Polyfills] Process polyfill loaded successfully");var s=t(3107),i=t(4647),l=t(7850),r=t(7927),c="event_start_assistant",d="event_close_assistant",u=function getCloudEnv(){var e="undefined"!==typeof window?window.location.href:"";if(!e)return"local";var n=new URL(e).hostname;if("localhost"===n||"127.0.0.1"===n||"[::1]"===n)return"local";if(window.kloud)return"pre"===window.kloud.env?"pre":"prod";var t=document.getElementById("ALICLOUD_NAV_CONFIG");return t?t.dataset.preview?"pre":"prod":"local"},w=function getCloudLang(){return window.kloud&&"zh"===window.kloud.lang?"zh-CN":"en-US"};var f=t(8659);const v=function AssistantChat(e){var n=e.show,t=void 0===n?"bottom":n,o=e.mode,a=void 0===o?"pc":o,i=e.visible,c=void 0!==i&&i,v=e.closeAll,p=(0,s.useRef)(null),m=(0,s.useState)("65px"),h=(0,l.A)(m,2),b=h[0],g=h[1],_=function isStickyNav(){var e=document.querySelector("#STICKY_NAV_CONFIG_DATA");if(e&&e.dataset&&e.dataset.config)for(var n=JSON.parse(e.dataset.config),t=window.location.pathname,o=0;o<n.length;++o){var a=n[o],s=new RegExp("^(?:/(en|zh|ja|ko|de|fr|tc|es|id|vi|tr|th){0,1}){0,1}(/){0,1}".concat("/"===a?"":a,"$")),i=t.match(s);if(i&&i.length>1)return!0}return!1}(),E=(0,r.aK)({name:"@ali/alfa-aliyun-one-service-widget-chat",env:u(),locale:w(),sandbox:{sandBoxUrl:"about:blank",externalsVars:["FastLogin","__LOWCODE_ENV__"],loading:(0,f.jsx)(f.Fragment,{}),allowResources:["https://g.alicdn.com/dawn/assets-loader/scripts/fast-login.js?tenantName=website"]}}),x=(0,s.useMemo)(function(){return(0,r.S_)({name:"@ali/alfa-cloud-xaliyunapp-widget-ai-agent-m",env:u(),noCache:!0,locale:w(),loading:!1,sandbox:{sandBoxUrl:"about:blank",disableFakeBody:!0,externalsVars:["FastLogin","__LOWCODE_ENV__","document","addEventListener","removeEventListener"],allowResources:["https://g.alicdn.com/dawn/assets-loader/scripts/fast-login.is?tenantName=website"]}})},[]),C=(0,s.useCallback)(function(){v(),window.dispatchEvent(new Event(d))},[v]),y=(0,s.useCallback)(function(){var e=document.querySelector(".hmod-alicloud-homon-nav-v3");return e?e.offsetHeight:65},[]),L=(0,s.useCallback)(function(){if(!_){var e=y(),n=document.documentElement.scrollTop||document.body.scrollTop;g(n>e?"0px":"".concat(e,"px"))}},[_,y]),A=(0,s.useMemo)(function(){return function debounce(e,n){var t;return function(){for(var o=this,a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];clearTimeout(t),t=setTimeout(function(){return e.apply(o,s)},n)}}(L,100)},[L]);return(0,s.useEffect)(function(){return window.addEventListener("scroll",A),function(){window.removeEventListener("scroll",A)}},[A]),(0,s.useEffect)(function(){if(c){var e=y();g("".concat(e,"px")),_||L()}},[c,y,_,L]),"mobile"===a?(0,f.jsx)(x,{visible:c,onClose:C,bizScene:"M_ALIBABACLOUD",zIndex:1e4}):(0,f.jsx)(E,{ref:p,onClose:C,visible:c,displayMode:"top"===t?"side":"float",style:{"--ai-assistant-container-offset-top":b,"--ai-assistant-container-widget-zindex":"10000"}})};const p=function App(e){var n=e.contentData,t=(0,s.useState)(!1),o=(0,l.A)(t,2),a=o[0],i=o[1],r=(0,s.useState)("bottom"),u=(0,l.A)(r,2),w=u[0],p=u[1],m=(0,s.useState)(function(){return window.innerWidth<=1200?"mobile":"pc"}),h=(0,l.A)(m,2),b=h[0],g=h[1];(0,s.useEffect)(function(){return window.addEventListener(c,_),window.addEventListener(d,E),function(){window.removeEventListener(c,_),window.removeEventListener(d,E)}},[]);var _=function startDropdown(e){e&&e.detail&&e.detail.position&&"top"===e.detail.position?p("top"):p("bottom"),e&&e.detail&&e.detail.mode&&"mobile"===e.detail.mode?g("mobile"):g("pc"),i(!0)},E=function closeDropdown(){i(!1)};return(0,f.jsx)("div",{className:"access-alicloud-ai-box",children:(0,f.jsx)(v,{contentData:n,closeAll:E,show:w,mode:b,visible:a})})};var m=document.getElementById("ai-multiple-chat-assistant"),h=(0,i.H)(m),b={};if(m)try{b=JSON.parse(m.dataset.aisearch||"{}")}catch(e){console.error(e)}h.render((0,f.jsx)(p,{contentData:b}))},3966:()=>{},4469:()=>{},4998:()=>{},6305:()=>{}},e=>{e.O(0,[121],()=>{return n=2212,e(e.s=n);var n});e.O()}]);